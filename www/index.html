<!DOCTYPE html>
<html>

  <head>
    <title>Amber-Cordova</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="author" content="Tariq Hamid" />
    <meta http-equiv="Content-Security-Policy" content="default-src *; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' 'unsafe-eval'">
    <script type='text/javascript' src='the.js'></script>

    <link rel="stylesheet" type="text/css" href="css/reset.css">
    <link rel="stylesheet" type="text/css" href="index.css">
    <!-- <link rel="stylesheet" type="text/css" href="css/3d.css"> -->
	  <link rel="stylesheet" type="text/css" href='css/twitterwall.css' />

    <script type='text/javascript' src='swipesense.js'></script>


    <style type="text/css">

      body
      {
        font-family: verdana;
      }

      .flex-container {
          display: -webkit-flex;
          display: flex;
          /* display: inline-flex; */

          -webkit-flex-flow: row wrap;
          flex-flow: row wrap;
      }

      .flex-item {
          -webkit-flex: 1 auto;
          /*flex: 0 1 auto;*/
          flex: 1;

          border-radius: .25rem;
          border-width: 15px;

          overflow: scroll;
          resize: none;
          min-width: 30%;
      }

      /*
      div {
        cursor:move;
      }
      */

      /*.flex-container div {color: SlateGrey;}*/
      .comment {
        border-radius: .25rem;
        border-width: 15px;
        background-color: #FFBF00; /* amber */
        font: italic bold 12px/30px Georgia, serif;
      }

	    .big-sevenSeg
	    {
			padding: 0.5em;
			height: 100px;
			width: 100px;
	    }

    .med-sevenSegArray5
	    {
	        padding: 0.25em;
	        height: 50px;
	        width: 200px;
	    }




#sean-denigris
{
  background-image: url("https://farm8.staticflickr.com/7212/7166328170_23d010c74a_b_d.jpg");
  background-position: top right; /* bottom left is less interesting part of the image */
  background-size: cover;
  color: wheat;
}

.ui-autocomplete {
    position: absolute;
    z-index: 1000;
    cursor: default;
    padding: 0;
    margin-top: 2px;
    list-style: none;
    background-color: #ffffff;
    border: 1px solid #ccc
    -webkit-border-radius: 5px;
       -moz-border-radius: 5px;
            border-radius: 5px;
    -webkit-box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
       -moz-box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
}
.ui-autocomplete > li {
  padding: 3px 20px;
}
.ui-autocomplete > li.ui-state-focus {
  background-color: #DDD;
}
.ui-helper-hidden-accessible {
  display: none;
}

#svg {
    -moz-border-radius: 10px;
    -webkit-border-radius: 10px;
    border-radius: 10px;
    border: solid 2px #ccc;
    width: 300px;
    height: 300px;
    float: left;
    margin-right: 10px;
    font: 1em source-sans-pro, Source Sans Pro, Helvetica, sans-serif;
}

#todo-application, #web-socket
{
  border-radius: 10px;
  border: solid 2px #ccc;
  background-color: #ff9;
  width: 87%;
  -webkit-order: 99;
  order: 99;
}

#input-types
{
    width: 44%;
    -webkit-order: 100;
    order: 100;
}


[draggable=true] {
    -khtml-user-drag: element;
    cursor: move;
}

.resizable {
    overflow: scroll;
    resize: both;
    x-max-width: 300px;
    x-max-height: 460px;
}
.column.over {
  border: 2px dashed #000;
}

#todos
{
    position:relative; /* important (all position that's not `static`) */
}

    </style>

  </head>

  <body>
  <div id="heading" class="resizable" style="margin: 0px auto; width: 90%; border: solid black;background:hsl(86,10%,85%);">
  <p style="text-align:right;margin-right: 40%;"><a href="http://amber-lang.net/">Amber Website</a></p>
  <p style="text-align:right;margin-right: 40%;"><a href="https://groups.google.com/forum/#!forum/amber-lang">Newsgroup</a></p>
  <p style="border: solid lightgray;background:hsl(113,100%,85%);text-align:right;font-size:small"><a href="http://amber.confusedprogrammer.com">http://amber.confusedprogrammer.com</a> [source code for this demo mashup on Github <a href="https://github.com/tariqhamid/cordova-test">https://github.com/tariqhamid/cordova-test</a>]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
  </div>
  <figure id="demo" class="flex-container">

    <div id="hello-amber" draggable="true" class="resizable" style="width: 444px; border: solid black;background:hsl(113,50%,75%)">
      <h1>HelloAmber</h1>
      <p>This is a sample app. It contains some <a href="parts.html">batteries included</a>
      and should be <a href="uninstall.html">cleaned up</a> once you start developing your own  app / lib.
      </p>
      <button id="amber-with">Hello from TagBrush >> with:</button>
      <button id="silk-tag">Hello from Silk >> TAG:</button>
      <button id="jquery-append">Hello from jQuery append</button>
      <ol id="output-list"></ol>

    </div>

    <div id="old-example" draggable="true" class="resizable" style="border: solid darkgray;background: gray">
      <article>
        <h1>My First Amber Project with PhoneGap</h1>
        <button onclick="require('amber/helpers').popupHelios()" style="background: red">class browser</button>
        <button id="sayHello">say hello</button>
      </article>
      <p><a href="#" onclick="showAlert(); return false;">Show alert with text from Amber</a></p>
      <p id="deviceProperties">Loading device properties...</p>
    </div>


    <div id="richard-eng" draggable="true" class="resizable" style="border: solid magenta;background-color: #00c;">
      <div class="comment">
        <div><span><a href="https://medium.com/smalltalk-talk/a-gentle-introduction-to-amber-8c532631e9ab#.w6ai5nco9">https://medium.com/smalltalk-talk/a-gentle-introduction-to-amber-8c532631e9ab#.w6ai5nco9</a></span></div>
        <div><span><a href="https://medium.com/smalltalk-talk/you-are-now-an-ambersmith-c257a73f4ef9#.1x3wh7osf">https://medium.com/smalltalk-talk/you-are-now-an-ambersmith-c257a73f4ef9#.1x3wh7osf</a></span></div>
        <div><span><a href="https://medium.com/smalltalk-talk/amber-alert-we-can-do-mobile-apps-34b2d4d32731#.mowl2gs0e">https://medium.com/smalltalk-talk/amber-alert-we-can-do-mobile-apps-34b2d4d32731#.mowl2gs0e</a></span></div>
      </div>
      <button id="play-track">play track</button>
      <button id="pause-track">pause track</button>
      <button id="show-image">showimage</button>
      <button id="geo-location">geo location</button>
      <div id="picture-frame" ontouchstart="touchStart(event,'picture-frame');" ontouchmove="touchMove(event);" ontouchcancel="touchCancel(event);"></div>
    </div>

    <div id="ko-timer" draggable="true" class="resizable" style="border: solid blue;background-color: #24c2c7;">
      <div class="comment">
        <div><span><a href="http://qiita.com/tetha/items/eac0839fb1e0328b6fd4">http://qiita.com/tetha/items/eac0839fb1e0328b6fd4</a></span></div>
        <div><span><a href="https://github.com/tty-hayashi/KohakuTimer">https://github.com/tty-hayashi/KohakuTimer</a></span></div>
        <div><span><a href="http://brandonlwhite.github.io/sevenSeg.js/">http://brandonlwhite.github.io/sevenSeg.js/</a></span></div>
      </div>
      <div id="timer-inputs" style="text-indent: 10px">
        <div id="timers">
          <p>Timer time(min)
            <select data-bind="options: availableTimers,
                             value: selectedTimer,
                             optionsCaption: '-Please select-'"></select></p>
        </div>
        <div>
          <input id="announce" type="radio" value="notify"  data-bind="checked: wantsAlert">Notification</input>
          <input id="announce" type="radio" value="dialog"  data-bind="checked: wantsAlert">Dialog</input>
        </div>
        <button id="timer-start">START</button>
        <div><span data-bind="text: counter"></span>
        </div>
      </div>
      <!--
      <div class="exampleContainer">
        <div id="sequence-indicator" data-bind="sevenSeg: { digits: 7, value: counter }" class="med-sevenSegArray5" style="width: 420px;"></div>
      </div>
      -->
    </div> <!-- ko-timer -->

    <div id="ko-linda" draggable="true" class="resizable" style="border: solid blueviolet;background-color: #ff9;text-indent: 10px;">
      <div class="comment">
        <div><span><a href="https://github.com/tty-hayashi/LindaClientDemo">https://github.com/tty-hayashi/LindaClientDemo</a></span></div>
        <div><span><a href="http://qiita.com/tetha/items/ed861060847bd01ca21e">http://qiita.com/tetha/items/ed861060847bd01ca21e</a></span></div>
      </div>
      <br>
      <div><a href="fibWorker.html">Fibonacci worker</a></div>
      <br>
      <div><a href="gyroWorker.html">Gyro workers</a></div><p>
      <br>
      </p><div><a href="compass.html">compass</a></div><p>
      <br>
      </p><ul id="linda-output-list"></ul>
      <div id="log"></div>
    </div>

    <div id="todos" draggable="true" class="resizable" style="background: teal">
      <div class="comment">
        <div><span><a href="https://github.com/rbistolfi/Amber-Todo">https://github.com/rbistolfi/Amber-Todo</a></span></div>
      </div>
    </div>

    <div id="web-socket-example" draggable="true" class="resizable">
      <div class="comment">
        <div><span><a href="https://github.com/HeSe/amber-websocketEcho">https://github.com/HeSe/amber-websocketEcho</a></span></div>
      </div>
      <div id="web-socket">
        <button id="web-socket-button" onclick="amber.globals.WebSocketTestWidget._startTest()">Test Websocket</button>
      </div>
    </div>


    <div id="snapsvg-demo" draggable="true" class="resizable" style="border: solid violet;background-color: #ff9;text-indent: 10px;">
      <div class="comment">
        <p><h2><a href="https://github.com/hhzl/Amber-Graphical-Libraries-Demo">https://github.com/hhzl/Amber-Graphical-Libraries-Demo</a></h2></p>
      </div>
      <button id="snapsvg-button">Hello from Snap.svg</button>
      <svg id="svg"/>
    </div>

    <div id="paper-demo" draggable="true" class="resizable">
      <div class="comment">
        <div><span><a href="https://github.com/HeSe/amber-websocketEcho">https://github.com/HeSe/amber-websocketEcho</a></span></div>
      </div>
      <div>
         <button onclick="amber.globals.Paper1._main()">Paper Demo 1</button>
         <button onclick="amber.globals.Fabric1._main()">Fabric Demo 1</button>
<!--
         <button onclick="amber.globals.SVG1._main()">SVG Demo 1</button>
         <button onclick="amber.globals.SnapSVG1._main()">SnapSVG Demo 1</button>
-->
         <button onclick="amber.globals.Physics1._main()">PhysicsJS Demo 1</button>
      </div>
      <canvas id="myCanvas"></canvas>
      <div id="drawing"></div>
<!--
      <svg id="svg-drawing"/>
-->
    </div>

    <div id="amber-video" draggable="true" class="resizable" style="border: solid purple;background-color: #ff9;text-indent: 10px;">
      <div class="comment">
        <p><h2><a href="https://github.com/HeSe/amber-video">https://github.com/HeSe/amber-video</a></h2></p>
      </div>
      <button id="amber-video-button" onclick="amber.globals.AmberVideo._start()">start video chat</button>
    </div>


    <div id="sean-denigris" draggable="true" class="resizable" class="cover-container" style="border: solid cyan;background-color: #0fc;">
      <div class="masthead clearfix">
        <div class="inner">
          <h3 class="masthead-brand"><a href="http://www.cornucopia.org/organic-egg-scorecard/">Cornucopia.org Egg Ratings</a>... But Searchable!</h3>
        </div>
      </div>
      <div class="inner cover">
        <h1 class="cover-heading">Find Clean Eggs</h1>
        <p class="lead"><a href="http://www.cornucopia.org/organic-egg-scorecard/">Cornucopia.org egg ratings</a> in an easily-searchable web UI.<br/>Just start typing a brand name and its rating will appear...</p>
        <p class="lead">
<!--
          <comment>Set default keyboard focus in HTML5 via autofocus per http://stackoverflow.com/questions/4166423/default-html-form-focus-without-javascript </comment>
-->
          <input type="text" class="form-control" id="suppliers" autofocus style="width: 300px">
        </p>
      </div>

    </div>



    <div id="twitter-wall" draggable="true" class="resizable" style="border: solid hotpink;background-color: #ff9;">
      <center>
    		<h2>A simple Twitterwall made with Amber</h2>
    		<p>Shows the last 5 Tweets regarding your query</p>
    	    <p>Examine the <button onClick="smalltalk.Browser._openOn_(smalltalk.TwitterSearch)"> TwitterSearch class</button></p>

    	<p>Query:<br><input id="searchQuery" type="text" size="30" maxlength="30" value="#smalltalk">
    	<button onClick="amber.globals.TwitterSearch._new()._query()">update</button>
    	</p>
      <div id="treecontainer"></div>
    	<div id="playground"></div>
    	</center>
    </div>

  </figure>

    <script type='text/javascript'>

        var media;
        var amberCodova;

        document.addEventListener("deviceready", onDeviceReady, false);

        // this function replays the audio after it has finished/stopped
        var loop = function (status) {
            console.log('loop');
            if (status === Media.MEDIA_STOPPED) {
                media.play();
           }
        }

        // event triggered when app goes into the background
        document.addEventListener("pause", onPause, false);
        function onPause() {
            console.log('onPause');
            media.pause();
        }

        // event triggered when app resumes in the foreground
        document.addEventListener("resume", onResume, false);
        function onResume() {
            console.log('onResume');
            media.play();
        }

        // this is Amber's "interface" to the Media object
        function playNewTrack(track) {
            console.log('playNewTrack');
            media.stop();
            media.release(); // IMPORTANT: must release the audio resources
            media.src = track;
            media.play();
        }

        // return the correct prefix string for Android
        function prefix() {
            if (device.platform == "Android") return "/android_asset/www/";
            else return "";
        }

        function onDeviceReady() {
            var dev_mode = false;

            var element = document.getElementById('deviceProperties');

            element.innerHTML = 'Device Name: '     + device.name     + '<br />' +
                                'Device PhoneGap: ' + device.phonegap + '<br />' +
                                'Device Platform: ' + device.platform + '<br />' +
                                'Device UUID: '     + device.uuid     + '<br />' +
                                'Device Version: '  + device.version  + '<br />';

            require(['app'], function (amber) {
                amber.initialize({
                  //used for all new packages in IDE
                  'transport.defaultAmdNamespace': "amber-ambercordova"
                });
                if (dev_mode)
                    require(["amber-ide-starter-dialog"], function (dlg) { dlg.start(); });
                amberCodova = amber.globals.AmberCordova._start();

                amberCodova._begin();
                amber.globals.Timer._start();

                // Initialize the Media object, which can be reused in
                // playNewTrack() from Amber.
                // By default, we always loop the audio.
                media = new Media("/android_asset/www/", null, null, loop);


                // LindaClient
                // LindaClientApp class >> start
                //    self new augmentPage
                amber.globals.LindaClientApp._start();


                amber.globals.Zendo._start();
                window.amber = amber;

                amber.globals.AmberSnapsvg._start();

                amber.globals.TodoList._start();

                amber.globals.TwitterSearch._new()._query();

                // Per http://stackoverflow.com/questions/1789945/how-can-i-check-if-one-string-contains-another-substring, later versions of JS can call include() (didn't work when I tried it in firebug), but old school is...
          		  var isDev = location.search.indexOf("dev=t") > -1;
          		  if (isDev) require(["amber-ide-starter-dialog"], function (dlg) { dlg.start(); });
          		  amber.globals.CornucopiaScorecardsApp._start();

                //amber.globals.AmberVideo._start();
                //smalltalk.WebSocketTestWidget._startTest();

            });

        }

        function displayInputs()
        {
          var inputsObj =
          {
            'button' : 	'Defines a clickable button (mostly used with a JavaScript to activate a script)',
            'checkbox' :	'Defines a checkbox',
            'color' :	'Defines a color picker',
            'date' :	'Defines a date control (year, month and day (no time))',
            'datetime' :	'The input type datetime has been removed from the HTML standard. Use datetime-local instead.',
            'datetime-local' :	'Defines a date and time control (year, month, day, hour, minute, second, and fraction of a second (no time zone)',
            'email' :	'Defines a field for an e-mail address',
            'file' :	'Defines a file-select field and a "Browse..." button (for file uploads)',
            'hidden' :	'Defines a hidden input field',
            'image' :	'Defines an image as the submit button',
            'month' :	'Defines a month and year control (no time zone)',
            'number' :	'Defines a field for entering a number',
            'password' :	'Defines a password field (characters are masked)',
            'radio' :	'Defines a radio button',
            'range' :	'Defines a control for entering a number whose exact value is not important (like a slider control)',
            'reset' :	'Defines a reset button (resets all form values to default values)',
            'search' :	'Defines a text field for entering a search string',
            'submit' 	: 'Defines a submit button',
            'tel' :	'Defines a field for entering a telephone number',
            'text' :	'Default. Defines a single-line text field (default width is 20 characters)',
            'time' :	'Defines a control for entering a time (no time zone)',
            'url' :	'Defines a field for entering a URL',
            'week' :	'Defines a week and year control (no time zone)'
          };


          // <table border="" cellspacing="0">
          var table1 = document.createElement("TABLE");
          table1.setAttribute("cellspacing", "0");
          table1.setAttribute("border", "");
          table1.setAttribute("width", "50%");
          table1.setAttribute("style", "border: solid 1px; text-align: center; margin: 0px auto;");
          var thead1 = document.createElement("THEAD");
          thead1.innerHTML = "<td>Input Types</td><td>Widget</td><td>Description</td>";
          table1.appendChild(thead1);
          var caption1 = document.createElement("CAPTION");
          caption1.innerHTML = "<h3>Input Types</h3>";
          table1.appendChild(caption1);

          for (var prop in inputsObj) {
            if (inputsObj.hasOwnProperty(prop)) {
            // or if (Object.prototype.hasOwnProperty.call(obj,prop)) for safety...
              //alert("prop: " + prop + " value: " + inputsObj[prop]);

              var tr1 = document.createElement("TR");

              var input = document.createElement("INPUT");
              input.type = prop; //x.setAttribute("type", "button");
              input.setAttribute("value", prop);
              //var t = document.createTextNode(prop);       // Create a text node
              //input.appendChild(t);
              //input.className = "css-class-name"; // set the CSS class

              var td1 = document.createElement("td");
              td1.setAttribute("style", "border: solid 1px ");
              td1.innerHTML = prop;
              var td2 = document.createElement("td");
              td2.appendChild(input);
              td2.setAttribute("style", "border: solid 1px ");
              var td3 = document.createElement("td");
              td3.setAttribute("style", "border: solid 1px ");
              td3.innerHTML = inputsObj[prop];
              tr1.appendChild(td1);
              tr1.appendChild(td2);
              tr1.appendChild(td3);
              table1.appendChild(tr1);
            }
          }
          //    <div id="input-types" class="flex-item">
          var div1 = document.createElement("div");
          div1.id = "input-types";
          div1.setAttribute("class", "flex-item");
          div1.setAttribute("style", "border: solid darkgray;background:hsl(178,50%,75%)");
          div1.appendChild(table1);
          document.body.appendChild(div1);

          ////////////////////////////////////////////
          // return a NodeList of div wrapped in a figure with attribute class "highlighted"
          ///   <figure id="demo" class="flex-container">
          ///
          // var matches = document.body.querySelectorAll('figure.flex-container > div');
          var dragItems = document.querySelectorAll('[draggable=true]');
          // alert(matches);
          [].forEach.call(dragItems, function(col) {
            col.addEventListener('dragstart', handleDragStart, false);
            col.addEventListener('dragenter', handleDragEnter, false)
            col.addEventListener('dragover', handleDragOver, false);
            col.addEventListener('dragleave', handleDragLeave, false);
            col.addEventListener('drop', handleDrop, false);
            col.addEventListener('dragend', handleDragEnd, false);

          });

        }

        function handleDrop(e) {
          // this / e.target is current target element.

          if (e.stopPropagation) {
            e.stopPropagation(); // stops the browser from redirecting.
          }

          // See the section on the DataTransfer object.
          // Don't do anything if dropping the same column we're dragging.
          if (dragSrcEl != this) {
            // Set the source column's HTML to the HTML of the column we dropped on.
            dragSrcEl.innerHTML = this.innerHTML;
            this.innerHTML = e.dataTransfer.getData('text/html');
          }

          return false;
        }

        function handleDragEnd(e) {
          // this/e.target is the source node.

          [].forEach.call(cols, function (col) {
            col.classList.remove('over');
          });
        }

        var dragSrcEl = null;
        function handleDragStart(e) {
          this.style.opacity = '0.4';  // this / e.target is the source node.

          dragSrcEl = this;

          e.dataTransfer.effectAllowed = 'move';
          e.dataTransfer.setData('text/html', this.innerHTML);
        }

        function handleDragOver(e) {
          if (e.preventDefault) {
            e.preventDefault(); // Necessary. Allows us to drop.
          }

          e.dataTransfer.dropEffect = 'move';  // See the section on the DataTransfer object.

          return false;
        }

        function handleDragEnter(e) {
          // this / e.target is the current hover target.
          this.classList.add('over');
        }

        function handleDragLeave(e) {
          this.classList.remove('over');  // this / e.target is previous target element.
        }

        // alert dialog dismissed
        function alertDismissed() {
            // do something
            alert('alertDismissed');
        }

        // Show another custom alert
        function showAlert() {
            alert(amberCodova._helloFromSmalltalk() + ' on: ' + device.name);
        }


        displayInputs();



    </script>

    <script src="cordova.js"></script>
  </body>

</html>
