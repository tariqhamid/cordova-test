<!DOCTYPE html>
<html>

  <head>
    <title>Amber-Cordova</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="author" content="Tariq Hamid" />
    <meta http-equiv="Content-Security-Policy" content="default-src *; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' 'unsafe-eval'">
    <script type='text/javascript' src='the.js'></script>

    <link rel="stylesheet" type="text/css" href="css/reset.css">
    <link rel="stylesheet" type="text/css" href="index.css">
    <!-- <link rel="stylesheet" type="text/css" href="css/3d.css"> -->
	  <link rel="stylesheet" type="text/css" href='css/twitterwall.css' />

    <script type='text/javascript' src='swipesense.js'></script>


    <style type="text/css">

      body
      {
        font-family: verdana;
      }

      .flex-container {
          display: -webkit-flex;
          display: flex;
          -webkit-flex-flow: row wrap;
          flex-flow: row wrap;
      }

      .flex-item {
          -webkit-flex: 1 auto;
          flex: 1 auto;
      }


	    .big-sevenSeg
	    {
			padding: 0.5em;
			height: 100px;
			width: 100px;
	    }

    .med-sevenSegArray5
	    {
	        padding: 0.25em;
	        height: 50px;
	        width: 200px;
	    }

@media screen and (min-width : 768px){
    html{ font-size : 120%;}
}

@media screen and (min-width : 1024px) {
    html{ font-size : 100%};
}

    </style>

  </head>

  <body>


  <figure id="demo" class="flex-container">
      <div style="background:hsl(113,50%,75%)" class="flex-item">

      <h1>HelloAmber</h1>
      <p>This is a sample app. It contains some
      <a href="parts.html">batteries included</a>
      and should be
      <a href="uninstall.html">cleaned up</a>
      once you start developing your own  app / lib.</p>
      <button id="amber-with">Hello from TagBrush >> with:</button>
      <button id="silk-tag">Hello from Silk >> TAG:</button>
      <button id="jquery-append">Hello from jQuery append</button>
      <ol id="output-list"></ol>

      </div>


    <div id="old-example" class="flex-item" style="border: 1px solid darkgray;border-width: 10px;background: gray">
      <article>
        <h1>My First Amber Project with PhoneGap</h1>
        <button onclick="require('amber/helpers').popupHelios()">class browser</button>
        <button id="sayHello">say hello</button>
      </article>
      <p><a href="#" onclick="showAlert(); return false;">Show alert with text from Amber</a></p>
      <p id="deviceProperties">Loading device properties...</p>
    </div>


    <div id="richard-eng" class="flex-item" style="border: 1px solid magenta;border-width: 10px;background-color: #00c;text-indent: 50px;">
      <button id="play-track">play track</button>
      <button id="pause-track">pause track</button>
      <button id="show-image">showimage</button>
      <button id="geo-location">geo location</button>
      <div id="picture-frame" ontouchstart="touchStart(event,'picture-frame');" ontouchmove="touchMove(event);" ontouchcancel="touchCancel(event);"></div>
    </div>


    <div id="ko-timer" class="flex-item" style="border: 1px solid blue;border-width: 10px;background-color: #24c2c7;">
      <div id="timer-inputs" style="text-indent: 10px">
        <div id="timers">
          <p>Timer time(min)
            <select data-bind="options: availableTimers,
                             value: selectedTimer,
                             optionsCaption: '-Please select-'"></select></p>
        </div>
        <div>
          <input id="announce" type="radio" value="notify"  data-bind="checked: wantsAlert">Notification</input>
          <input id="announce" type="radio" value="dialog"  data-bind="checked: wantsAlert">Dialog</input>
        </div>
        <button id="timer-start">START</button>
        <div><span data-bind="text: counter"></span>
        </div>
      </div>

      <!--
      <div class="exampleContainer">
        <div id="sequence-indicator" data-bind="sevenSeg: { digits: 7, value: counter }" class="med-sevenSegArray5" style="width: 420px;"></div>
      </div>
      -->

    </div> <!-- ko-timer -->

    <div id="ko-linda" class="flex-item" style="border: 1px solid blueviolet;border-width: 10px;background-color: #ff9;text-indent: 50px;">
      <div><span></span></div>
      <br>
      <div><a href="fibWorker.html">Fibonacci worker</a></div>
      <br>
      <div><a href="gyroWorker.html">Gyro workers</a></div><p>
      <br>
      </p><div><a href="compass.html">compass</a></div><p>
      <br>
      </p><ul id="linda-output-list"></ul>
      <div id="log"></div>
    </div>


    <div id="snapsvg-demo" class="flex-item" style="border: 1px solid violet;border-width: 10px;background-color: #ff9;text-indent: 50px;">
    <p><h2><a href="https://github.com/hhzl/Amber-snapsvg-demo">https://github.com/hhzl/Amber-snapsvg-demo</a></h2></p>
    <button id="snapsvg-button">Hello from Snap.svg</button>
    <!-- <svg id="svg" style="height:200px; width: 90%"></svg>  -->
    </div>

    <div id="twitter-wall" class="flex-item">
      <center>
    		<h2>A simple Twitterwall made with Amber</h2>
    		<p>Shows the last 5 Tweets regarding your query</p>
    	    <p>Examine the <button onClick="smalltalk.Browser._openOn_(smalltalk.TwitterSearch)"> TwitterSearch class</button></p>

    	<p>Query:<br><input id="searchQuery" type="text" size="30" maxlength="30" value="#smalltalk">
    	<button onClick="amber.globals.TwitterSearch._new()._query()">update</button>
    	</p>
      <div id="treecontainer"></div>
    	<div id="playground"></div>
    	</center>
    </div>

  </figure>

    <script type='text/javascript'>

        var media;
        var amberCodova;

        document.addEventListener("deviceready", onDeviceReady, false);

        // this function replays the audio after it has finished/stopped
        var loop = function (status) {
            console.log('loop');
            if (status === Media.MEDIA_STOPPED) {
                media.play();
           }
        }

        // event triggered when app goes into the background
        document.addEventListener("pause", onPause, false);
        function onPause() {
            console.log('onPause');
            media.pause();
        }

        // event triggered when app resumes in the foreground
        document.addEventListener("resume", onResume, false);
        function onResume() {
            console.log('onResume');
            media.play();
        }

        // this is Amber's "interface" to the Media object
        function playNewTrack(track) {
            console.log('playNewTrack');
            media.stop();
            media.release(); // IMPORTANT: must release the audio resources
            media.src = track;
            media.play();
        }

        // return the correct prefix string for Android
        function prefix() {
            if (device.platform == "Android") return "/android_asset/www/";
            else return "";
        }

        function onDeviceReady() {
            var dev_mode = false;

            var element = document.getElementById('deviceProperties');

            element.innerHTML = 'Device Name: '     + device.name     + '<br />' +
                                'Device PhoneGap: ' + device.phonegap + '<br />' +
                                'Device Platform: ' + device.platform + '<br />' +
                                'Device UUID: '     + device.uuid     + '<br />' +
                                'Device Version: '  + device.version  + '<br />';

            require(['app'], function (amber) {
                amber.initialize({
                  //used for all new packages in IDE
                  'transport.defaultAmdNamespace': "amber-ambercordova"
                });
                if (dev_mode)
                    require(["amber-ide-starter-dialog"], function (dlg) { dlg.start(); });
                amberCodova = amber.globals.AmberCordova._start();

                amberCodova._begin();
                amber.globals.Timer._start();

                // Initialize the Media object, which can be reused in
                // playNewTrack() from Amber.
                // By default, we always loop the audio.
                media = new Media("/android_asset/www/", null, null, loop);


                // LindaClient
                // LindaClientApp class >> start
                //    self new augmentPage
                amber.globals.LindaClientApp._start();


                amber.globals.Zendo._start();
                window.amber = amber;

                amber.globals.AmberSnapsvg._start();

                amber.globals.TodoList._start();

                amber.globals.TwitterSearch._new()._query();

            });

            displayInputs();

        }

        function displayInputs()
        {
          var inputsObj =
          {
            'button' : 	'Defines a clickable button (mostly used with a JavaScript to activate a script)',
            'checkbox' :	'Defines a checkbox',
            'color' :	'Defines a color picker',
            'date' :	'Defines a date control (year, month and day (no time))',
            'datetime' :	'The input type datetime has been removed from the HTML standard. Use datetime-local instead.',
            'datetime-local' :	'Defines a date and time control (year, month, day, hour, minute, second, and fraction of a second (no time zone)',
            'email' :	'Defines a field for an e-mail address',
            'file' :	'Defines a file-select field and a "Browse..." button (for file uploads)',
            'hidden' :	'Defines a hidden input field',
            'image' :	'Defines an image as the submit button',
            'month' :	'Defines a month and year control (no time zone)',
            'number' :	'Defines a field for entering a number',
            'password' :	'Defines a password field (characters are masked)',
            'radio' :	'Defines a radio button',
            'range' :	'Defines a control for entering a number whose exact value is not important (like a slider control)',
            'reset' :	'Defines a reset button (resets all form values to default values)',
            'search' :	'Defines a text field for entering a search string',
            'submit' 	: 'Defines a submit button',
            'tel' :	'Defines a field for entering a telephone number',
            'text' :	'Default. Defines a single-line text field (default width is 20 characters)',
            'time' :	'Defines a control for entering a time (no time zone)',
            'url' :	'Defines a field for entering a URL',
            'week' :	'Defines a week and year control (no time zone)'
          };


          // <table border="" cellspacing="0">
          var table1 = document.createElement("TABLE");
          table1.setAttribute("cellspacing", "0");
          table1.setAttribute("border", "");
          table1.setAttribute("width", "50%");
          table1.setAttribute("style", "border: solid 1px; text-align: center; margin: 0px auto;");
          var thead1 = document.createElement("THEAD");
          thead1.innerHTML = "<td>Input Types</td><td>Widget</td><td>Description</td>";
          table1.appendChild(thead1);
          var caption1 = document.createElement("CAPTION");
          caption1.innerHTML = "<h3>Input Types</h3>";
          table1.appendChild(caption1);

          for (var prop in inputsObj) {
            if (inputsObj.hasOwnProperty(prop)) {
            // or if (Object.prototype.hasOwnProperty.call(obj,prop)) for safety...
              //alert("prop: " + prop + " value: " + inputsObj[prop]);

              var tr1 = document.createElement("TR");

              var input = document.createElement("INPUT");
              input.type = prop; //x.setAttribute("type", "button");
              input.setAttribute("value", prop);
              //var t = document.createTextNode(prop);       // Create a text node
              //input.appendChild(t);
              //input.className = "css-class-name"; // set the CSS class

              var td1 = document.createElement("td");
              td1.setAttribute("style", "border: solid 1px ");
              td1.innerHTML = prop;
              var td2 = document.createElement("td");
              td2.appendChild(input);
              td2.setAttribute("style", "border: solid 1px ");
              var td3 = document.createElement("td");
              td3.setAttribute("style", "border: solid 1px ");
              //td3.setAttribute("style", "border: solid 1px ");
              td3.innerHTML = inputsObj[prop];
              tr1.appendChild(td1);
              tr1.appendChild(td2);
              tr1.appendChild(td3);
              table1.appendChild(tr1);
            }
          }
          //    <div id="input-types" class="flex-item">
          var div1 = document.createElement("div");
          div1.id = "input-types";
          div1.setAttribute("class", "flex-item");
          div1.setAttribute("style", "border: 1px solid darkgray;border-width: 10px;background:hsl(178,50%,75%)");
          div1.appendChild(table1);
          document.body.appendChild(div1);
        }

        // alert dialog dismissed
        function alertDismissed() {
            // do something
            alert('alertDismissed');
        }

        // Show another custom alert
        function showAlert() {
            alert(amberCodova._helloFromSmalltalk() + ' on: ' + device.name);
        }


    </script>

    <script src="cordova.js"></script>
  </body>

</html>
