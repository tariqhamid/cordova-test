<!DOCTYPE html>
<html>

  <head>
    <title>Amber-Cordova</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="author" content="Tariq Hamid" />
    <meta http-equiv="Content-Security-Policy" content="default-src *; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' 'unsafe-eval'">
    <script type='text/javascript' src='the.js'></script>

    <link rel="stylesheet" type="text/css" href="css/reset.css">
    <link rel="stylesheet" type="text/css" href="index.css">
    <link rel="stylesheet" type="text/css" href="css/3d.css">
	  <link rel="stylesheet" type="text/css" href='css/twitterwall.css' />

    <script type='text/javascript' src='swipesense.js'></script>


    <style type="text/css">

      body
      {
        font-family: verdana;
      }

	    .big-sevenSeg
	    {
			padding: 0.5em;
			height: 100px;
			width: 100px;
	    }

    .med-sevenSegArray5
	    {
	        padding: 0.25em;
	        height: 50px;
	        width: 200px;
	    }

@media screen and (min-width : 768px){
    html{ font-size : 120%;}
}

@media screen and (min-width : 1024px) {
    html{ font-size : 100%};
}

    </style>

  </head>

  <body>




    <h1>HelloAmber</h1>
    <p>This is a sample app. It contains some
    <a href="parts.html">batteries included</a>
    and should be
    <a href="uninstall.html">cleaned up</a>
    once you start developing your own  app / lib.</p>
    <button id="amber-with">Hello from TagBrush >> with:</button>
    <button id="silk-tag">Hello from Silk >> TAG:</button>
    <button id="jquery-append">Hello from jQuery append</button>
    <ol id="output-list"></ol>


    <div id="old-example" style="border: 1px solid darkgray;border-width: 10px;background: gray">
      <article>
        <h1>My First Amber Project with PhoneGap</h1>
        <button onclick="require('amber/helpers').popupHelios()">class browser</button>
        <button id="sayHello">say hello</button>
      </article>
      <p><a href="#" onclick="showAlert(); return false;">Show alert with text from Amber</a></p>
      <p id="deviceProperties">Loading device properties...</p>
    </div>


    <div id="richard-eng" style="border: 1px solid magenta;border-width: 10px;background-color: #00c;text-indent: 50px;">
      <button id="play-track">play track</button>
      <button id="pause-track">pause track</button>
      <button id="show-image">showimage</button>
      <button id="geo-location">geo location</button>
      <div id="picture-frame" ontouchstart="touchStart(event,'picture-frame');" ontouchmove="touchMove(event);" ontouchcancel="touchCancel(event);"></div>
    </div>


    <div id="ko-timer" style="border: 1px solid blue;border-width: 10px;background-color: #24c2c7;">
      <div id="timer-inputs" style="text-indent: 10px">
        <div id="timers">
          <p>Timer time(min)
            <select data-bind="options: availableTimers,
                             value: selectedTimer,
                             optionsCaption: '-Please select-'"></select></p>
        </div>
        <div>
          <input id="announce" type="radio" value="notify"  data-bind="checked: wantsAlert">Notification</input>
          <input id="announce" type="radio" value="dialog"  data-bind="checked: wantsAlert">Dialog</input>
        </div>
        <button id="timer-start">START</button>
        <div><span data-bind="text: counter"></span>
        </div>
      </div>

      <!--
      <div class="exampleContainer">
        <div id="sequence-indicator" data-bind="sevenSeg: { digits: 7, value: counter }" class="med-sevenSegArray5" style="width: 420px;"></div>
      </div>
      -->

    </div> <!-- ko-timer -->

    <div id="ko-linda" style="border: 1px solid blueviolet;border-width: 10px;background-color: #ff9;text-indent: 50px;">
      <div><span></span></div>
      <br>
      <div><a href="fibWorker.html">Fibonacci worker</a></div>
      <br>
      <div><a href="gyroWorker.html">Gyro workers</a></div><p>
      <br>
      </p><div><a href="compass.html">compass</a></div><p>
      <br>
      </p><ul id="linda-output-list"></ul>
      <div id="log"></div>
    </div>


    <div id="snapsvg-demo" style="border: 1px solid violet;border-width: 10px;background-color: #ff9;text-indent: 50px;">
    <p><h2><a href="https://github.com/hhzl/Amber-snapsvg-demo">https://github.com/hhzl/Amber-snapsvg-demo</a></h2></p>
    <button id="snapsvg-button">Hello from Snap.svg</button>
    <!-- <svg id="svg" style="height:200px; width: 90%"></svg>  -->
    </div>

    <div id="twitter-wall">
      <center>
    		<h2>A simple Twitterwall made with Amber</h2>
    		<p>Shows the last 5 Tweets regarding your query</p>
    	    <p>Examine the <button onClick="smalltalk.Browser._openOn_(smalltalk.TwitterSearch)"> TwitterSearch class</button></p>

    	<p>Query:<br><input id="searchQuery" type="text" size="30" maxlength="30" value="#smalltalk">
    	<button onClick="amber.globals.TwitterSearch._new()._query()">update</button>
    	</p>
    	<div id="playground"></div>
    	</center>
    </div>

    <script type='text/javascript'>

        var media;
        var amberCodova;

        document.addEventListener("deviceready", onDeviceReady, false);

        // this function replays the audio after it has finished/stopped
        var loop = function (status) {
            console.log('loop');
            if (status === Media.MEDIA_STOPPED) {
                media.play();
           }
        }

        // event triggered when app goes into the background
        document.addEventListener("pause", onPause, false);
        function onPause() {
            console.log('onPause');
            media.pause();
        }

        // event triggered when app resumes in the foreground
        document.addEventListener("resume", onResume, false);
        function onResume() {
            console.log('onResume');
            media.play();
        }

        // this is Amber's "interface" to the Media object
        function playNewTrack(track) {
            console.log('playNewTrack');
            media.stop();
            media.release(); // IMPORTANT: must release the audio resources
            media.src = track;
            media.play();
        }

        // return the correct prefix string for Android
        function prefix() {
            if (device.platform == "Android") return "/android_asset/www/";
            else return "";
        }

        function onDeviceReady() {
            var dev_mode = true;

            var element = document.getElementById('deviceProperties');

            element.innerHTML = 'Device Name: '     + device.name     + '<br />' +
                                'Device PhoneGap: ' + device.phonegap + '<br />' +
                                'Device Platform: ' + device.platform + '<br />' +
                                'Device UUID: '     + device.uuid     + '<br />' +
                                'Device Version: '  + device.version  + '<br />';

            require(['app'], function (amber) {
                amber.initialize({
                  //used for all new packages in IDE
                  'transport.defaultAmdNamespace': "amber-ambercordova"
                });
                if (dev_mode)
                    require(["amber-ide-starter-dialog"], function (dlg) { dlg.start(); });
                amberCodova = amber.globals.AmberCordova._start();

                amberCodova._begin();
                amber.globals.Timer._start();

                // Initialize the Media object, which can be reused in
                // playNewTrack() from Amber.
                // By default, we always loop the audio.
                media = new Media("/android_asset/www/", null, null, loop);


                // LindaClient
                // LindaClientApp class >> start
                //    self new augmentPage
                amber.globals.LindaClientApp._start();


                amber.globals.Zendo._start();
                window.amber = amber;

                amber.globals.AmberSnapsvg._start();

                amber.globals.TodoList._start();

                amber.globals.TwitterSearch._new()._query()
            });

        }

        // alert dialog dismissed
        function alertDismissed() {
            // do something
            alert('alertDismissed');
        }

        // Show another custom alert
        function showAlert() {
            alert(amberCodova._helloFromSmalltalk() + ' on: ' + device.name);
        }

    </script>

    <script src="cordova.js"></script>
  </body>

</html>
